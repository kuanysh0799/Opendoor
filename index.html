<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>OpenDoor CRM</title>

  <!-- iOS PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="./apple-touch-icon.png">
  <link rel="manifest" href="./manifest.webmanifest">
  <meta name="theme-color" content="#0d1117"/>

  <link rel="icon" href="./icon-192.png">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <header class="appbar">
    <div class="brand">
      <img src="./apple-touch-icon.png" alt="logo" class="logo">
      <div>
        <h1>OpenDoor CRM</h1>
        <div class="subtitle">–ü—Ä–æ–¥–∞–∂–∏ –¥–≤–µ—Ä–µ–π ¬∑ PWA</div>
      </div>
    </div>
    <div class="actions">
      <button id="themeBtn" class="icon-btn" title="–¢–µ–º–∞">üåô</button>
      <button id="loginBtn" class="btn outline">–í–æ–π—Ç–∏</button>
      <div id="userBadge" class="user-badge hidden"></div>
    </div>
  </header>

  <nav class="tabs">
    <button class="tab active" data-tab="funnel">–í–æ—Ä–æ–Ω–∫–∞</button>
    <button class="tab" data-tab="deals">–°–¥–µ–ª–∫–∏</button>
    <button class="tab" data-tab="clients">–ö–ª–∏–µ–Ω—Ç—ã</button>
    <button class="tab" data-tab="reports">–û—Ç—á—ë—Ç—ã</button>
    <button class="tab" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
  </nav>

  <main class="container">
    <!-- –í–æ—Ä–æ–Ω–∫–∞ -->
    <section id="tab-funnel" class="tab-panel active">
      <div id="funnelList" class="funnel"></div>
      <div class="hint">–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –ø–æ—è–≤—è—Ç—Å—è –≤–∞—à–∏ —Å–¥–µ–ª–∫–∏, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —ç—Ç–∞–ø–∞–º.</div>
    </section>

    <!-- –°–¥–µ–ª–∫–∏ -->
    <section id="tab-deals" class="tab-panel">
      <div class="toolbar">
        <input id="dealSearch" class="input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/—Ç–µ–ª–µ—Ñ–æ–Ω—É/–ø—Ä–∏–º–µ—á–∞–Ω–∏—é">
      </div>
      <div id="dealList" class="list"></div>
    </section>

    <!-- –ö–ª–∏–µ–Ω—Ç—ã -->
    <section id="tab-clients" class="tab-panel">
      <div class="toolbar">
        <input id="clientSearch" class="input" placeholder="–ü–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞ (–∏–º—è/—Ç–µ–ª–µ—Ñ–æ–Ω)">
      </div>
      <div id="clientList" class="list"></div>
    </section>

    <!-- –û—Ç—á—ë—Ç—ã -->
    <section id="tab-reports" class="tab-panel">
      <div class="cards">
        <div class="card">
          <div class="card-title">–í—ã—Ä—É—á–∫–∞ (–º–µ—Å—è—Ü)</div>
          <div id="revMonth" class="stat">‚Äî</div>
        </div>
        <div class="card">
          <div class="card-title">–ú–∞—Ä–∂–∞ (–º–µ—Å—è—Ü)</div>
          <div id="marginMonth" class="stat">‚Äî</div>
        </div>
        <div class="card">
          <div class="card-title">–ö–æ–Ω–≤–µ—Ä—Å–∏—è</div>
          <div id="convRate" class="stat">‚Äî</div>
        </div>
      </div>
      <div class="hint">–ü–µ—Ä–≤—ã–µ –ø—Ä–æ—Å—Ç—ã–µ –º–µ—Ç—Ä–∏–∫–∏. –†–∞—Å—à–∏—Ä–∏–º –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞.</div>
    </section>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
    <section id="tab-settings" class="tab-panel">
      <div class="group">
        <label>–†–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ</label>
        <div id="roleText" class="chip">‚Äî</div>
      </div>
      <div class="group">
        <label>–°—Ç–∞—Ç—É—Å—ã –≤–æ—Ä–æ–Ω–∫–∏</label>
        <div class="chips" id="stagesChips"></div>
      </div>
      <div class="group">
        <label>–û—Ñ—Ñ–ª–∞–π–Ω –æ—á–µ—Ä–µ–¥—å</label>
        <div id="queueInfo" class="hint">–û—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞</div>
      </div>
      <div class="group">
        <button id="logoutBtn" class="btn danger">–í—ã–π—Ç–∏</button>
      </div>
    </section>
  </main>

  <!-- FAB -->
  <button id="fab" class="fab">Ôºã</button>

  <!-- –ú–æ–¥–∞–ª–∫–∞ —Å–¥–µ–ª–∫–∏ -->
  <dialog id="dealDialog" class="dialog">
    <form method="dialog" class="dialog-body" id="dealForm">
      <h3 id="dealDialogTitle">–ù–æ–≤–∞—è —Å–¥–µ–ª–∫–∞</h3>
      <div class="grid">
        <label>–ö–ª–∏–µ–Ω—Ç <input required id="d_client" class="input" placeholder="–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞"></label>
        <label>–¢–µ–ª–µ—Ñ–æ–Ω <input id="d_phone" class="input" placeholder="+7..."></label>
        <label>–ò—Å—Ç–æ—á–Ω–∏–∫
          <select id="d_source" class="input">
            <option>Instagram</option><option>WhatsApp</option><option>2–ì–ò–°</option>
            <option>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</option><option>–û–±—ä—è–≤–ª–µ–Ω–∏–µ</option><option>–ó–≤–æ–Ω–æ–∫</option>
            <option>–í–∏–∑–∏—Ç –≤ –º–∞–≥–∞–∑–∏–Ω</option>
          </select>
        </label>
        <label>–°—É–º–º–∞ (‚Ç∏)<input type="number" id="d_amount" class="input" min="0"></label>
        <label>–ú–∞—Ä–∂–∞ (‚Ç∏)<input type="number" id="d_margin" class="input" min="0"></label>
        <label>–≠—Ç–∞–ø
          <select id="d_stage" class="input"></select>
        </label>
        <label class="full">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π <textarea id="d_note" class="input" rows="3"></textarea></label>
      </div>
      <menu class="dialog-menu">
        <button value="cancel" class="btn outline">–û—Ç–º–µ–Ω–∞</button>
        <button id="dealSaveBtn" class="btn primary" value="default">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </menu>
    </form>
  </dialog>

  <script type="module" src="./app.js"></script>
</body>
</html>
